<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Frequently Asked Questions about the adjustedCurves Package • adjustedCurves</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Frequently Asked Questions about the adjustedCurves Package">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">adjustedCurves</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.11.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/comparing_groups.html">Comparing Adjusted Survival Curves or Cumulative Incidence Curves</a></li>
    <li><a class="dropdown-item" href="../articles/faq.html">Frequently Asked Questions about the adjustedCurves Package</a></li>
    <li><a class="dropdown-item" href="../articles/introduction.html">An Introduction to the 'adjustedCurves' Package</a></li>
    <li><a class="dropdown-item" href="../articles/method_overview.html">Overview of methods in adjustedCurves</a></li>
    <li><a class="dropdown-item" href="../articles/plot_customization.html">Customizing Adjusted Survival Curve Plots</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/RobinDenz1/adjustedCurves/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Frequently Asked Questions about the adjustedCurves Package</h1>
                        <h4 data-toc-skip class="author">Robin Denz</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/RobinDenz1/adjustedCurves/blob/main/vignettes/faq.rmd" class="external-link"><code>vignettes/faq.rmd</code></a></small>
      <div class="d-none name"><code>faq.rmd</code></div>
    </div>

    
    
<p>This vignette answers some of the most frequently asked questions
about the package.</p>
<div class="section level3">
<h3 id="how-do-i-add-a-table-with-the-number-at-risk-below-the-plot">How do I add a table with the number at risk below the plot?<a class="anchor" aria-label="anchor" href="#how-do-i-add-a-table-with-the-number-at-risk-below-the-plot"></a>
</h3>
<p>Since version 0.11.1, it is possible to use the
<code>risk_table</code> argument of the <code><a href="../reference/plot.adjustedsurv.html">plot.adjustedsurv()</a></code>
function to directly add such tables to the plot. It is, however,
recommended to read the associated point in the documentation page first
(<code><a href="../reference/plot.adjustedsurv.html">?plot.adjustedsurv</a></code>) first to find out whether adding such
tables is a good idea or not.</p>
</div>
<div class="section level3">
<h3 id="how-do-i-get-a-p-value">How do I get a p-value?<a class="anchor" aria-label="anchor" href="#how-do-i-get-a-p-value"></a>
</h3>
<p>There is no easy answer to this question, because it is inherently
vague. What should the p-value be for? Which hypothesis should be tested
using it? The package offers multiple different ways to compare adjusted
survival curves and CIFs, as described in the associated vignette
(<code><a href="../articles/comparing_groups.html">vignette(topic="comparing_groups", package="adjustedCurves")</a></code>)
and the documentation pages. Some of these also return p-values.</p>
</div>
<div class="section level3">
<h3 id="does-this-package-support-time-varying-covariates">Does this package support time-varying covariates?<a class="anchor" aria-label="anchor" href="#does-this-package-support-time-varying-covariates"></a>
</h3>
<p>No, time-varying covariates are currently not supported. There are
two main reasons for this: (1) with time-varying covariates, it is
unclear what the target estimand should be (see for example Hernán &amp;
Robins 2020) and (2) estimating one of the possible target estimands is,
depending on the causal assumptions, a very complicated endeavor which
cannot be easily automated. It is doubtful that this package will ever
contain such methods, but we won’t rule it out completely.</p>
</div>
<div class="section level3">
<h3 id="which-method-should-i-use">Which method should I use?<a class="anchor" aria-label="anchor" href="#which-method-should-i-use"></a>
</h3>
<p>Unfortunately there is no easy answer for this question either. It
depends both on goals of the analysis, the causal assumptions and the
observed data. Some theoretical guidance and comparison of most of the
implemented methods is given in the associated simulation study (see
Denz et al. 2023). More practical guidance (e.g. which method can I use
to get adjusted survival curves if there are more than two groups of
interest etc.) can be found in the methods vignette
(<code><a href="../articles/method_overview.html">vignette(topic="method_overview", package="adjustedCurves")</a></code>).</p>
</div>
<div class="section level3">
<h3 id="how-can-i-interpret-the-results">How can I interpret the results?<a class="anchor" aria-label="anchor" href="#how-can-i-interpret-the-results"></a>
</h3>
<p>The interpretation of the results heavily depend on the causal
assumptions made by the user. Resulting survival curves or CIFs cannot
generally be interpreted as counterfactual survival curves. This
interpretation is only possible under the causal identifiability
assumptions and method-specific assumptions, as described in Denz et
al. (2023). If these assumptions cannot be made, the results should only
be interpreted as “marginal survival curves / CIFs after adjusting for
confounders X”.</p>
</div>
<div class="section level3">
<h3 id="is-it-possible-to-obtain-adjusted-survival-curves-for-data-with-competing-events">Is it possible to obtain adjusted survival curves for data with
competing events?<a class="anchor" aria-label="anchor" href="#is-it-possible-to-obtain-adjusted-survival-curves-for-data-with-competing-events"></a>
</h3>
<p>No, this is generally impossible. Users may, however, use the
<code><a href="../reference/adjustedcif.html">adjustedcif()</a></code> function to estimate confounder-adjusted
cause-specific cumulative incidence functions instead.</p>
</div>
<div class="section level3">
<h3 id="can-i-use-this-package-if-the-variable-i-am-interested-in-is-continuous">Can I use this package if the variable I am interested in is
continuous?<a class="anchor" aria-label="anchor" href="#can-i-use-this-package-if-the-variable-i-am-interested-in-is-continuous"></a>
</h3>
<p>It is possible, but not recommended. To get adjusted survival curves
or CIFs for a continuous variable of interest with this package, users
need to categorize the variable before doing any kind of analysis. This
leads to a loss of information, which may lead to biased estimates or a
loss of statistical power. To circumvent this issue, we developed
another R-package called <code>contsurvplot</code> which directly
implements plotting methods for continuous variables, as described in
Denz &amp; Timmesfeld (2023).</p>
</div>
<div class="section level3">
<h3 id="does-this-package-offer-an-adjusted-log-rank-test">Does this package offer an adjusted log-rank test?<a class="anchor" aria-label="anchor" href="#does-this-package-offer-an-adjusted-log-rank-test"></a>
</h3>
<p>No, it currently doesn’t. We only know of one type of log-rank test
that allows confounder-adjustment, which is the inverse probability of
treatment weighted log-rank test described by Xie et al. (2005). Since
this only works for one type of method, it is not implemented here. It
is, however, implemented in the <code>RISCA</code> package. Other ways
to compare survival curves or CIFs using the <code>adjustedCurves</code>
package are described in the documentation and the associated vignette
(<code><a href="../articles/comparing_groups.html">vignette(topic="comparing_groups", package="adjustedCurves")</a></code>).</p>
</div>
<div class="section level3">
<h3 id="how-do-i-deal-with-missing-values">How do I deal with missing values?<a class="anchor" aria-label="anchor" href="#how-do-i-deal-with-missing-values"></a>
</h3>
<p>The package offers direct support for multiple imputation as
performed using the <code>mice</code> package. How exactly these
imputations should be performed is beyond the scope of this package. We
recommend seeking information on the <code>mice</code> package website
or the associated book.</p>
</div>
<div class="section level3">
<h3 id="i-have-fit-a-coxph-model-with-startstop-type-data--can-i-use-this-model-to-obtain-adjusted-survival-curves">I have fit a <code>coxph</code> model with start/stop type data. Can
I use this model to obtain adjusted survival curves?<a class="anchor" aria-label="anchor" href="#i-have-fit-a-coxph-model-with-startstop-type-data--can-i-use-this-model-to-obtain-adjusted-survival-curves"></a>
</h3>
<p>This is currently not supported. More information may be found in the
question about time-varying covariates.</p>
</div>
<div class="section level3">
<h3 id="can-interactions-be-included-when-estimating-adjusted-survival-curves-or-cifs">Can interactions be included when estimating adjusted survival
curves or CIFs?<a class="anchor" aria-label="anchor" href="#can-interactions-be-included-when-estimating-adjusted-survival-curves-or-cifs"></a>
</h3>
<p>Yes, that is possible. For example, if the user wants to use
<code>method="direct"</code> with a <code>coxph</code> model as outcome
model, interactions can be included using the standard syntax in the
<code>coxph</code> call if they are not the main variable of interest.
If, on the other hand, the main thing of interest <em>is</em> the
interaction (e.g. the user wants to plot survival curves / CIFs for all
possible combinations of two categorical variables) a slightly different
procedure is needed. Users then need to construct a new variable that
directly combines the two categorical variables (for example using the
<code><a href="https://rdrr.io/r/base/interaction.html" class="external-link">interaction()</a></code> function) and use this new variable in both
the <code><a href="../reference/adjustedsurv.html">adjustedsurv()</a></code> / <code><a href="../reference/adjustedcif.html">adjustedcif()</a></code> call and
the <code>coxph</code> model.</p>
</div>
<div class="section level3">
<h3 id="how-do-i-cite-this-package">How do I cite this package?<a class="anchor" aria-label="anchor" href="#how-do-i-cite-this-package"></a>
</h3>
<p>We recommend citing the relevant method-specific paper and the paper
associated with this package when using it in a scientific publication.
For example, when using <code>method="iptw_km"</code> in the
<code><a href="../reference/adjustedsurv.html">adjustedsurv()</a></code> function, we recommend citing both Xie et
al. (2005) and the article associated with the package (Denz et
al. 2023).</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Robin Denz, Renate Klaaßen-Mielke, and Nina Timmesfeld (2023). “A
Comparison of Different Methods to Adjust Survival Curves for
Confounders”. In: Statistics in Medicine 42.10, pp. 1461-1479.</p>
<p>Robin Denz, Nina Timmesfeld (2023). “Visualizing the (Causal) Effect
of a Continuous Variable on a Time-To-Event Outcome”. In: Epidemiology
34.5, pp. 652-660.</p>
<p>Jun Xie and Chaofeng Liu (2005). “Adjusted Kaplan-Meier Estimator and
Log- Rank Test with Inverse Probability of Treatment Weighting for
Survival Data”. In: Statistics in Medicine 24, pp. 3089-3110.</p>
<p>Miguel Hernán and James Robins (2020). Causal Inference: What If.
Boca Raton: Chapman &amp; Hall/CRC</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Robin Denz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
